<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ระบบข้อสอบกฎหมายอาญาทหาร ๒๕๖๘ (แบบสุ่ม)</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;700&display=swap');
        
        body { 
            font-family: 'Sarabun', sans-serif; 
            background: #2c3e50; 
            display: flex; 
            justify-content: center; 
            align-items: flex-start; 
            min-height: 100vh; 
            margin: 0; 
            padding: 40px 20px;
        }
        .container { 
            background: #ffffff; 
            padding: 40px; 
            border-radius: 15px; 
            box-shadow: 0 15px 35px rgba(0,0,0,0.3); 
            width: 100%; 
            max-width: 800px; 
        }
        .header { text-align: center; margin-bottom: 30px; border-bottom: 3px solid #c0392b; padding-bottom: 20px; }
        h1 { color: #c0392b; margin: 0; font-size: 24px; }
        
        #login-screen { text-align: center; padding: 40px 0; }
        input[type="text"] { 
            width: 80%; padding: 15px; margin: 20px 0; border: 2px solid #ddd; 
            border-radius: 10px; font-size: 18px; text-align: center;
        }
        
        .quiz-item { 
            background: #f9f9f9; padding: 20px; border-radius: 10px; 
            margin-bottom: 25px; border-left: 6px solid #2980b9;
        }
        .question-text { font-weight: bold; font-size: 17px; color: #34495e; margin-bottom: 15px; }
        .options-group label { 
            display: block; padding: 10px; margin: 5px 0; background: white; 
            border: 1px solid #ddd; border-radius: 5px; cursor: pointer; transition: 0.2s;
        }
        .options-group label:hover { background: #ebf5fb; border-color: #3498db; }
        
        button { 
            background: #27ae60; color: white; padding: 15px 40px; border: none; 
            border-radius: 10px; font-size: 18px; font-weight: bold; cursor: pointer; 
            width: 100%; transition: 0.3s;
        }
        button:hover { background: #219150; transform: translateY(-2px); }
        
        .hidden { display: none; }
        .user-tag { color: #2980b9; font-weight: bold; text-align: right; margin-bottom: 20px; }
        
        #result-screen { text-align: center; }
        .score-circle { 
            width: 150px; height: 150px; line-height: 150px; border-radius: 50%; 
            background: #c0392b; color: white; font-size: 40px; font-weight: bold; 
            margin: 20px auto; border: 5px solid #ecf0f1;
        }
    </style>
</head>
<body>

<div class="container">
    <div id="login-screen">
        <div class="header">
            <h1>⚖️ ระบบทดสอบความรู้สุ่ม ๓๐ ข้อ</h1>
            <p>ประมวลกฎหมายอาญาทหาร พ.ศ. ๒๕๖๘</p>
        </div>
        <p>กรุณากรอกชื่อผู้เข้าสอบเพื่อตรวจสอบสิทธิ์</p>
        <input type="text" id="username" placeholder="กรอกชื่อของคุณที่นี่...">
        <button onclick="startQuiz()">ยืนยันตัวตนและเข้าสอบ</button>
    </div>

    <div id="quiz-screen" class="hidden">
        <div class="user-tag" id="display-name"></div>
        <div class="header">
            <h1>แบบทดสอบระบบสุ่มโจทย์</h1>
        </div>
        <div id="quiz-container"></div>
        <button onclick="calculateScore()">ส่งคำตอบทั้งหมด</button>
    </div>

    <div id="result-screen" class="hidden">
        <h1>สรุปผลการทดสอบ</h1>
        <div id="user-result-name" style="font-size: 20px; margin-top: 10px;"></div>
        <div class="score-circle" id="score-display">0/30</div>
        <p id="feedback-msg" style="font-size: 18px; font-weight: bold;"></p>
        <p style="color: #7f8c8d;">(ระบบบันทึกคะแนนเรียบร้อยแล้ว ไม่มีการแสดงเฉลยคำตอบ)</p>
        <button onclick="location.reload()" style="background: #7f8c8d; margin-top: 20px;">กลับหน้าแรก</button>
    </div>
</div>

<script>
    // รายชื่อผู้ที่มีสิทธิ์เข้าสอบ
    const allowedUsers = ["mininbird", "ruok555sf"]; 

    // คลังข้อสอบทั้งหมด 100 ข้อ
    const allQuestions = [
        { q: "๑. หากศาลตัดสินว่าทหารนายหนึ่งมีความผิดและสั่ง 'ขึ้นบัญชีวินัยเลว' เพียงอย่างเดียว การลงโทษนี้ถือเป็นโทษระดับใด?", a: "ค", options: ["ก. โทษสถานเบา", "ข. โทษสถานกลาง", "ค. โทษสถานเบา หรือ โทษสถานกลาง", "ง. โทษสถานหนัก"] },
        { q: "๒. นายทหารสัญญาบัตรผู้หนึ่งถูกตัดสินว่าทำผิด 'ฐานขัดคำสั่งผู้บังคับบัญชา' (มาตรา ๑๑) เขาจะได้รับโทษสูงสุดในระดับใดตามที่มาตรานี้ระบุ?", a: "ก", options: ["ก. โทษสถานเบา", "ข. โทษสถานกลาง", "ค. โทษสถานหนัก", "ง. ลดอัตราชั้นยศ"] },
        { q: "๓. ตามมาตรา ๗ บุคคลที่ถูกยืนยันว่ากระทำความผิดแล้ว 'แต่ยังมิได้เข้าสู่กระบวนการพิจารณาคดี' มีสถานะทางกฎหมายว่าอย่างไร?", a: "ข", options: ["ก. ผู้ต้องสงสัย", "ข. ผู้ต้องหา", "ค. จำเลย", "ง. นักโทษ"] },
        { q: "๔. 'การแบนจากเซิร์ฟเวอร์' ตามมาตรา ๑๑ (๔) ของหมวดประเภทอัตราโทษ เทียบเท่ากับโทษในลักษณะใด?", a: "ค", options: ["ก. การคุมขัง", "ข. การขึ้นบัญชีดำ", "ค. การเนรเทศออกนอกราชอาณาจักร", "ง. การให้ออกจากราชการโดยไร้เกียรติ"] },
        { q: "๕. หากเกิดกรณีที่กฎหมายนี้ 'มิได้บัญญัติความผิดไว้' มาตรา ๘ กำหนดให้ใช้อำนาจใดเป็นอำนาจสูงสุดในการพิจารณา?", a: "ค", options: ["ก. ผู้บังคับบัญชาสูงสุด", "ข. จารีตประเพณีทหาร", "ค. ดุลพินิจของศาลรัฐธรรมนูญ", "ง. ประมวลกฎหมายอาญาพลเรือน"] },
        { q: "๖. มาตรา ๖ ระบุว่าคำพิพากษาของศาล 'มิสามารถแก้ไขหรือเปลี่ยนแปลงได้' เว้นแต่ในกรณีใด?", a: "ข", options: ["ก. เมื่อจำเลยร้องขอความเป็นธรรม", "ข. เมื่อรูปคดีเปลี่ยนแปลงและศาลเห็นควร", "ค. เมื่อผู้บังคับบัญชาสั่งให้พิจารณาใหม่", "ง. เมื่อมีการประกาศใช้กฎหมายใหม่"] },
        { q: "๗. โทษ 'ลดอัตราชั้นยศ' สำหรับสิบเอกขึ้นไป ปรากฏอยู่ในโทษระดับใดบ้าง?", a: "ง", options: ["ก. สถานเบาเท่านั้น", "ข. สถานกลางเท่านั้น", "ค. สถานหนักเท่านั้น", "ง. ทั้งสถานกลาง และ สถานหนัก"] },
        { q: "๘. ความผิดฐาน 'หมิ่นประมาท' ตามมาตรา ๑๐ มีระวางโทษอยู่ในช่วงใด?", a: "ข", options: ["ก. โทษสถานเบา - โทษสถานกลาง", "ข. โทษสถานกลาง - โทษสถานหนัก", "ค. โทษสถานเบา - โทษสถานหนัก", "ง. โทษสถานหนักเท่านั้น"] },
        { q: "๙. การที่เจ้าพนักงาน 'ไม่ปฏิบัติหน้าที่ที่ตนเองต้องรับผิดชอบ' มีความผิดตามมาตราใด และโทษระดับใด?", a: "ง", options: ["ก. มาตรา ๙ (ละเว้นการปฏิบัติหน้าที่) - โทษสถานเบาถึงหนัก", "ข. มาตรา ๑๒ (ปฏิบัติหน้าที่โดยมิชอบ) - โทษสถานกลางถึงหนัก", "ค. มาตรา ๒๔ (ละเลยหน้าที่) - โทษสถานเบา", "ง. ถูกทั้ง ก และ ค"] },
        { q: "๑๐. หากทหารคนหนึ่งเป็น 'ผู้สนับสนุน' หรือ 'สมรู้ร่วมคิด' ในการทำผิดกฎหมายนี้ตามมาตรา ๑๓ จะต้องรับโทษอย่างไร?", a: "ค", options: ["ก. รับโทษเท่ากับตัวการ", "ข. รับโทษ ๑ ใน ๓ ของโทษที่กำหนด", "ค. รับโทษเพียงกึ่งหนึ่งของโทษที่กำหนด", "ง. รับโทษสถานเบาเสมอ"] },
        { q: "๑๑. 'การเผยแพร่เนื้อหาภายในที่ทำให้ภาพลักษณ์เสียหาย' กฎหมายกำหนดให้ถือว่าเป็นการกระทำผิดร้ายแรงเทียบเท่ากับฐานความผิดใด?", a: "ข", options: ["ก. ก่อจลาจล", "ข. กบฏ", "ค. ปฏิบัติหน้าที่โดยมิชอบ", "ง. หมิ่นประมาท"] },
        { q: "๑๒. 'จำคุกไม่เกิน ๑ ชั่วโมง ปรับไม่เกิน ๓๐๐๐' เป็นโทษเฉพาะที่ระบุไว้ในมาตราใด?", a: "ค", options: ["ก. มาตรา ๑๗", "ข. มาตรา ๓๑", "ค. มาตรา ๓๙ และ ๔๐", "ง. มาตรา ๔๒"] },
        { q: "๑๓. มาตรา ๓๓ ระบุว่าการใช้ 'ไอดีรอง (บุคคลที่สอง)' ไปก่อจลาจลหรือยักยอกทรัพย์ ให้ถือเป็นโทษระดับใด?", a: "ค", options: ["ก. โทษสถานเบา", "ข. โทษสถานกลาง", "ค. โทษสถานหนัก", "ง. ดุลพินิจศาล"] },
        { q: "๑๔. นิยามของคำว่า 'ทหาร' ตามมาตรา ๗ คืออะไร?", a: "ค", options: ["ก. บุคคลที่ถืออาวุธ", "ข. สังกัดกลาโหม", "ค. บุคคลที่อยู่ภายใต้อำนาจกฎหมายฝ่ายทหาร", "ง. ยศสิบตรีขึ้นไป"] },
        { q: "๑๕. ความผิดฐาน 'เบิกความเท็จ' ตามมาตรา ๔๑ มีระวางโทษอยู่ในระดับใด?", a: "ข", options: ["ก. สถานเบา - สถานกลาง", "ข. สถานกลาง - สถานหนัก", "ค. สถานหนักเท่านั้น", "ง. สถานเบาเท่านั้น"] },
        { q: "๑๖. หากทหารนำรถของทางราชการไปขับเล่นโดย 'ไม่ได้รับอนุญาต' แต่เขามีใบขับขี่ถูกต้อง จะมีความผิดตามมาตราใด?", a: "ก", options: ["ก. มาตรา ๓๑", "ข. มาตรา ๓๒", "ค. มาตรา ๔๐", "ง. ไม่มีความผิด"] },
        { q: "๑๗. การกระทำโดย 'ประมาทเลินเล่อ' จนทำให้ระบบราชการเสียหาย ตามมาตรา ๓๘ มีระวางโทษอย่างไร?", a: "ค", options: ["ก. สถานเบาเท่านั้น", "ข. สถานกลางเท่านั้น", "ค. สถานเบา - โทษสถานหนัก", "ง. ปรับ ๓๐๐๐"] },
        { q: "๑๘. ความผิดฐาน 'ก่อกบฏ' ตามมาตรา ๒๓ กำหนดโทษไว้ที่ระดับใดระดับเดียว?", a: "ค", options: ["ก. โทษสถานเบา", "ข. โทษสถานกลาง", "ค. โทษสถานหนัก", "ง. เนรเทศ"] },
        { q: "๑๙. มาตรา ๓ กำหนดให้ 'ประมวลกฎหมายอาญาทหาร' บังคับใช้ตั้งแต่วันที่เท่าใด?", a: "ค", options: ["ก. วันถัดจากประกาศ", "ข. ๑ ม.ค. ๒๕๖๘", "ค. ๙ พฤศจิกายน ๒๕๖๗", "ง. ๙ พฤศจิกายน ๒๕๖๘"] },
        { q: "๒๐. 'การแสวงหาประโยชน์ที่ไม่ถูกต้องตามกฎหมายสำหรับตนเองหรือผู้อื่น' คือนิยามของคำใด?", a: "ก", options: ["ก. โดยทุจริต", "ข. ปฏิบัติหน้าที่โดยมิชอบ", "ค. ยักยอกทรัพย์", "ง. ฉ้อโกง"] },
        { q: "๒๑. นายสิบคนหนึ่ง 'แอบอ้างเป็นนายพัน' เพื่อสิทธิพิเศษ ความผิดนี้เข้าข่ายมาตราใด?", a: "ค", options: ["ก. มาตรา ๑๕", "ข. มาตรา ๒๒", "ค. มาตรา ๒๘", "ง. มาตรา ๑๒"] },
        { q: "๒๒. หากมีการ 'ปลอมแปลงเอกสารราชการ' ตามมาตรา ๒๗ จะได้รับโทษในช่วงใด?", a: "ค", options: ["ก. สถานเบา - กลาง", "ข. สถานกลาง - หนัก", "ค. สถานเบา - หนัก", "ง. หนักเท่านั้น"] },
        { q: "๒๓. 'คุมขัง' ตามกฎหมายนี้หมายถึงข้อใดบ้าง?", a: "ง", options: ["ก. การควบคุมตัว", "ข. ขัง หรือ กักขัง", "ค. จำคุก", "ง. ถูกทุกข้อ"] },
        { q: "๒๔. ความผิดฐาน 'ล่วงละเมิด/คุกคามทางเพศ' (มาตรา ๓๕) ครอบคลุมถึงพฤติกรรมใด?", a: "ง", options: ["ก. ร่างกาย", "ข. คำพูด", "ค. พฤติกรรมที่ก่อให้อับอาย", "ง. ถูกทุกข้อ"] },
        { q: "๒๕. ข้อใดคือโทษสูงสุดของ 'โทษสถานกลาง'?", a: "ค", options: ["ก. จำคุกไม่เกิน ๒๔ ชม.", "ข. ลดชั้นยศและให้ออก", "ค. จำคุกไม่เกิน ๗๒ ชม. และ พ้นตำแหน่ง", "ง. เนรเทศ"] },
        { q: "๒๖. มาตรา ๒๐ 'การฆาตกรรมโดยเจตนา' ระบุระดับโทษไว้อย่างไร?", a: "ค", options: ["ก. โทษสถานหนักเท่านั้น", "ข. สถานกลาง - หนัก", "ค. สถานเบา - หนัก", "ง. ประหารชีวิต"] },
        { q: "๒๗. การ 'ข่มขู่/คุกคาม' เพื่อให้อีกฝ่ายยอมจำนน ตามมาตรา ๓๖ มีโทษระดับใด?", a: "ข", options: ["ก. สถานเบา - กลาง", "ข. สถานกลาง - หนัก", "ค. หนักเท่านั้น", "ง. สถานเบา - หนัก"] },
        { q: "๒๘. ทหารที่ 'ไม่หยุดรถ' เมื่อสารวัตรทหารเรียกตรวจ ตามมาตรา ๓๙ มีความผิดฐานใด?", a: "ข", options: ["ก. ขัดคำสั่งผู้บังคับบัญชา", "ข. ฝ่าฝืนคำสั่งเจ้าพนักงาน", "ค. หลบหนี", "ง. ต่อสู้ขัดขวาง"] },
        { q: "๒๙. หากนายทหารระดับบังคับบัญชาทำผิด และถูกสั่งให้ 'พ้นตำแหน่งหน้าที่' โทษนี้จัดอยู่ในระดับใด?", a: "ข", options: ["ก. โทษสถานเบา", "ข. โทษสถานกลาง", "ค. โทษสถานหนัก", "ง. โทษวินัยเลว"] },
        { q: "๓๐. มาตรา ๕ ระบุว่า หากกฎหมายอื่นอ้างถึง 'กฎหมายลักษณะอาญา' ให้เปลี่ยนไปอ้างอิงถึงกฎหมายใดแทน?", a: "ก", options: ["ก. ประมวลกฎหมายอาญา (ใหม่)", "ข. รัฐธรรมนูญ", "ค. จารีตประเพณี", "ง. กฎอัยการศึก"] },
        { q: "๓๑. พลทหาร เอ ร่วมมือกับสิบเอก บี ขโมยน้ำมันหลวงไปขาย โดยพลทหาร เอ เป็นคนดูต้นทางให้สิบเอก บี ท่านจะลงโทษพลทหาร เอ อย่างไรตามมาตรา ๑๖ และ ๓๒?", a: "ค", options: ["ก. ลงโทษสถานเบาเท่านั้น", "ข. ลงโทษสถานกลาง - โทษสถานหนัก", "ค. ระวางโทษเพียงกึ่งหนึ่งของโทษสถานกลาง - โทษสถานหนัก", "ง. ไม่ต้องรับโทษ"] },
        { q: "๓๒. ความผิดในข้อใดที่ระบุโทษเริ่มต้นไว้ที่ 'โทษสถานกลาง' เป็นขั้นต่ำ?", a: "ค", options: ["ก. ละเว้นการปฏิบัติหน้าที่", "ข. ขัดคำสั่งผู้บังคับบัญชา", "ค. หลบหนีการจับกุมจากเจ้าหน้าที่", "ง. การกระทำโดยประมาท"] },
        { q: "๓๓. สิบเอกใจดี สงสารพลทหารที่โดนทำโทษ จึงแอบปล่อยตัวพลทหารออกจากห้องขังโดยไม่ได้รับอนุญาต พฤติการณ์ของสิบเอกใจดีเข้าข่ายความผิดใดชัดเจนที่สุด?", a: "ก", options: ["ก. ปฏิบัติหน้าที่โดยมิชอบ", "ข. ละเลยหน้าที่", "ค. ก่อกบฏ", "ง. ฉ้อโกง"] },
        { q: "๓๔. หากกองทัพประกาศ 'ขึ้นบัญชีวินัยเลว' แก่ทหารผู้หนึ่ง โทษดังกล่าวจัดอยู่ในระดับใดตามมาตรา ๑๐?", a: "ข", options: ["ก. โทษสถานเบา", "ข. โทษสถานกลาง", "ค. โทษสถานหนัก", "ง. โทษทางวินัยพิเศษ"] },
        { q: "๓๕. นายทหารสัญญาบัตรผู้หนึ่งกระทำผิดวินัยร้ายแรงจนถูก 'ให้ออกจากราชการโดยไร้เกียรติ' โทษนี้จัดเป็นระดับใดและระบุไว้ในมาตราใด?", a: "ข", options: ["ก. โทษสถานกลาง มาตรา ๑๐", "ข. โทษสถานหนัก มาตรา ๑๑", "ค. โทษสถานเบา มาตรา ๙", "ง. โทษสถานหนัก มาตรา ๓๖"] },
        { q: "๓๖. การใช้ 'ดุลพินิจของศาลรัฐธรรมนูญเป็นอำนาจสูงสุด' ตามมาตรา ๕ จะเกิดขึ้นในกรณีใด?", a: "ค", options: ["ก. เมื่อศาลทหารไม่ต้องการตัดสินคดีเอง", "ข. เมื่อคู่ความร้องขอให้โอนคดี", "ค. เมื่อความผิดนั้นมิได้บัญญัติไว้ในประมวลกฎหมายอาญานี้และไม่มีจารีตประเพณีรองรับ", "ง. เมื่อเป็นคดีระหว่างทหารกับพลเรือน"] },
        { q: "๓๗. สิบเอก ว. แอบอ้างเป็นผู้บัญชาการค่ายเพื่อสั่งซื้ออาหารจากร้านภายนอกโดยไม่จ่ายเงิน พฤติการณ์นี้ผิดตามมาตราใดร่วมกัน?", a: "ก", options: ["ก. มาตรา ๓๐ และ มาตรา ๒๘", "ข. มาตรา ๑๓ และ มาตรา ๑๗", "ค. มาตรา ๑๘ และ มาตรา ๑๙", "ง. มาตรา ๓๒ และ มาตรา ๓๖"] },
        { q: "๓๘. มาตรา ๗ นิยามคำว่า 'คุมขัง' ให้ครอบคลุมถึงพฤติการณ์ใดบ้าง?", a: "ง", options: ["ก. คุมตัว และ ควบคุม เท่านั้น", "ข. ขัง และ กักขัง เท่านั้น", "ค. จำคุก เท่านั้น", "ง. คุมตัว ควบคุม ขัง กักขัง หรือจำคุก"] },
        { q: "๓๙. พลทหารคนหนึ่ง 'ประมาทเลินเล่อ' ทำปืนหลวงลั่นใส่กำแพงโรงนอนจนเสียหาย พฤติการณ์นี้มีระวางโทษอย่างไรตามมาตรา ๔๐?", a: "ค", options: ["ก. โทษสถานเบาเท่านั้น", "ข. โทษสถานเบา - โทษสถานกลาง", "ค. โทษสถานเบา - โทษสถานหนัก", "ง. จำคุกไม่เกิน ๒๔ ชั่วโมง"] },
        { q: "๔๐. มาตรา ๒ บัญญัติว่าพระราชบัญญัตินี้ให้ใช้บังคับตั้งแต่วันใด?", a: "ค", options: ["ก. วันที่ ๕ ธันวาคม พ.ศ. ๒๕๖๘", "ข. วันที่ประกาศในราชกิจจานุเบกษา", "ค. วันถัดจากวันประกาศในราชกิจจานุเบกษาเป็นต้นไป", "ง. วันที่ลงพระปรมาภิไธย"] },
        { q: "๔๑. การกระทำในข้อใดที่มาตรา ๓๖ ระบุว่า 'ให้ถือว่าเป็นการกบฏ'?", a: "ข", options: ["ก. การก่อจลาจลในค่าย", "ข. การเผยแพร่เนื้อหาภายในที่ทำให้ภาพลักษณ์เสียหาย", "ค. การขัดคำสั่งในเวลาสงคราม", "ง. การใช้โปรแกรมช่วยเล่น"] },
        { q: "๔๒. โทษ 'เนรเทศออกนอกราชอาณาจักร' ตามมาตรา ๑๑ (๔) เทียบเท่ากับข้อใด?", a: "ข", options: ["ก. การลบข้อมูล", "ข. เกมแบน จากเซิร์ฟเวอร์", "ค. การล็อกไอดี", "ง. การจำกัดสิทธิ์"] },
        { q: "๔๓. ทหารสารวัตรตรวจพบทหารนายหนึ่งขัดขืนไม่ยอมให้ตรวจสารเสพติดตามหน้าที่ พฤติการณ์การ 'ขัดขืน' นี้ผิดตามมาตราใด?", a: "ค", options: ["ก. มาตรา ๒๐", "ข. มาตรา ๔๑", "ค. มาตรา ๔๔", "ง. มาตรา ๑๕"] },
        { q: "๔๔. ผู้ที่ 'ยังมิได้ยืนยันว่ากระทำความผิดแต่ได้มีการสืบสวนแล้ว' ตามมาตรา ๗ เรียกว่าอะไร?", a: "ค", options: ["ก. ผู้ต้องหา", "ข. จำเลย", "ค. ผู้ต้องสงสัย", "ง. เจ้าพนักงาน"] },
        { q: "๔๕. สิบเอก บี โพสต์ข้อความใส่ร้ายกองทัพในเฟซบุ๊กส่วนตัวว่ามีการกินหัวคิว พฤติการณ์นี้เข้าข่ายมาตราใด?", a: "ก", options: ["ก. มาตรา ๑๓ โทษสถานกลาง - โทษสถานหนัก", "ข. มาตรา ๑๒ โทษสถานเบา", "ค. มาตรา ๒๓ โทษสถานกลาง", "ง. มาตรา ๒๕ โทษสถานหนัก"] },
        { q: "๔๖. การลงโทษจำคุก ๑ ชั่วโมง และปรับ ๓,๐๐๐ บาท เป็นบทลงโทษเฉพาะที่ปรากฏในมาตราใด?", a: "ข", options: ["ก. มาตรา ๙", "ข. มาตรา ๔๑ และ ๔๒", "ค. มาตรา ๓๓ และ ๓๔", "ง. มาตรา ๒๐"] },
        { q: "๔๗. จ่าสิบเอก ร. แก้ไขเกณฑ์การให้คะแนนการฝึกเพื่อให้หลานชายผ่านหลักสูตร พฤติการณ์นี้ผิดตามมาตราใด?", a: "ก", options: ["ก. มาตรา ๑๕ และ มาตรา ๑๘", "ข. มาตรา ๒๑ และ มาตรา ๒๒", "ค. มาตรา ๓๐ และ มาตรา ๓๑", "ง. มาตรา ๓๙ และ มาตรา ๔๐"] },
        { q: "๔๘. คำนิยามของ 'ตำรวจ' ตามประมวลกฎหมายนี้คือข้อใด?", a: "ข", options: ["ก. มียศพลตำรวจขึ้นไป", "ข. บุคคลที่อยู่ในอำนาจกฎหมายฝ่ายตำรวจ", "ค. สังกัด สตช.", "ง. เจ้าพนักงานจับกุมพลเรือน"] },
        { q: "๔๙. การก่อจลาจลเป็นวงกว้างตามมาตรา ๒๗ มีระวางโทษอย่างไร?", a: "ง", options: ["ก. โทษสถานหนักเท่านั้น", "ข. โทษสถานกลางเท่านั้น", "ค. โทษสถานเบา - โทษสถานกลาง", "ง. โทษสถานกลาง - โทษสถานหนัก"] },
        { q: "๕๐. หากศาลตัดสินว่าทหารนายหนึ่งกระทำผิดตามมาตรา ๓๑ ฐานใช้โปรแกรมช่วยเล่น โทษขั้นสูงคืออะไร?", a: "ข", options: ["ก. จำคุก ๗๒ ชั่วโมง", "ข. เกมแบน จากเซิร์ฟเวอร์", "ค. บันทึกตักเตือน", "ง. ลดอัตราชั้นยศ"] },
        { q: "๕๑. มาตรา ๖ เปิดช่องให้มีการแก้ไขคำพิพากษาได้ในกรณีใด?", a: "ค", options: ["ก. ผู้บังคับบัญชาต้องการ", "ข. จำเลยสารภาพภายหลัง", "ค. ศาลเห็นควรในกรณีที่รูปคดีเปลี่ยนแปลง", "ง. คดีเกิน ๑๐ ปี"] },
        { q: "๕๒. 'แสดงข้อความเท็จ หรือปกปิดความจริงที่ควรแจ้ง' เป็นองค์ประกอบความผิดของมาตราใด?", a: "ก", options: ["ก. มาตรา ๑๗", "ข. มาตรา ๒๘", "ค. มาตรา ๔๓", "ง. มาตรา ๒๙"] },
        { q: "๕๓. โทษ 'สูญเสียการบังคับบัญชา' ตามมาตรา ๙ (๑) ระบุไว้สำหรับทหารระดับใด?", a: "ข", options: ["ก. นายทหารชั้นประทวน", "ข. นายทหารระดับบังคับบัญชา", "ค. ทหารกองประจำการ", "ง. เจ้าพนักงาน"] },
        { q: "๕๔. การล่วงละเมิดหรือคุกคามทางเพศตามมาตรา ๓๗ ครอบคลุมพฤติกรรมใด?", a: "ง", options: ["ก. ทางร่างกาย", "ข. ทางคำพูด", "ค. พฤติกรรมอับอาย/หวาดกลัว", "ง. ถูกทุกข้อ"] },
        { q: "๕๕. พลทหาร ซี แอบนำรถจี๊ปหลวงไปเที่ยวโดยมีใบขับขี่ทหารถูกต้อง ผิดตามมาตราใด?", a: "ก", options: ["ก. มาตรา ๓๓", "ข. มาตรา ๓๔", "ค. มาตรา ๔๒", "ง. มาตรา ๑๕"] },
        { q: "๕๖. โทษสถานเบาประเภท 'จำคุกไม่เกิน ๒๔ ชั่วโมง' ระบุไว้ในมาตราใด?", a: "ข", options: ["ก. มาตรา ๘", "ข. มาตรา ๙", "ค. มาตรา ๑๐", "ง. มาตรา ๑๑"] },
        { q: "๕๗. การทำความผิดตามมาตรา ๒๗ และ ๓๒ โดยใช้ไอดีรอง ตามมาตรา ๓๕ จะรับโทษระดับใด?", a: "ค", options: ["ก. โทษสถานกลาง", "ข. โทษสถานเบา", "ค. โทษสถานหนัก", "ง. พ้นตำแหน่งหน้าที่"] },
        { q: "๕๘. สิบเอก เอ ใช้กำลังชกต่อยกับสารวัตรทหารในที่สาธารณะ ผิดตามมาตราใดร่วมกัน?", a: "ก", options: ["ก. มาตรา ๓๙ และ มาตรา ๔๔", "ข. มาตรา ๑๓ และ มาตรา ๑๔", "ค. มาตรา ๒๐ และ มาตรา ๒๑", "ง. มาตรา ๒๕ และ มาตรา ๒๗"] },
        { q: "๕๙. การใช้อำนาจโดยมิชอบต่อผู้ใต้บังคับบัญชาตามมาตรา ๒๑ มีระวางโทษอย่างไร?", a: "ข", options: ["ก. โทษสถานเบาเท่านั้น", "ข. โทษสถานเบา - โทษสถานกลาง", "ค. โทษสถานกลาง - โทษสถานหนัก", "ง. โทษสถานหนักเท่านั้น"] },
        { q: "๖๐. ประมวลกฎหมายอาญาทหาร พ.ศ. ๒๕๖๘ นี้ มีฐานะเป็นอะไรตามมาตรา ๓?", a: "ข", options: ["ก. กฎหมายลูกบท", "ข. ประมวลกฎหมายท้ายพระราชบัญญัติ", "ค. ระเบียบกองทัพ", "ง. จารีตประเพณีทหาร"] },
        { q: "๖๑. พันโท เอ เพิกเฉยต่อความวุ่นวายจนค่ายเสียหาย จัดเป็นความผิดตามมาตราใด?", a: "ก", options: ["ก. มาตรา ๑๒ โทษสถานเบา - โทษสถานหนัก", "ข. มาตรา ๑๔ โทษสถานเบา", "ค. มาตรา ๒๖ โทษสถานเบา", "ง. มาตรา ๔๐"] },
        { q: "๖๒. 'บุคคลที่อยู่ในอำนาจกฎหมายฝ่ายทหาร' ตามมาตรา ๗ หมายถึงใคร?", a: "ค", options: ["ก. เจ้าพนักงาน", "ข. ประชาชน", "ค. ทหาร", "ง. ผู้ต้องหา"] },
        { q: "๖๓. สิบเอก ข. ถูกฟ้องในคดีฆาตกรรมและอยู่ในขั้นตอนการไต่สวน สถานะคือข้อใด?", a: "ค", options: ["ก. ผู้ต้องสงสัย", "ข. ผู้ต้องหา", "ค. จำเลย", "ง. นักโทษ"] },
        { q: "๖๔. การลงโทษ 'ลดอัตราชั้นยศ' พร้อมกับ 'ขึ้นบัญชีดำ' ตามมาตรา ๑๑ ถือเป็นระดับใด?", a: "ค", options: ["ก. โทษสถานเบา", "ข. โทษสถานกลาง", "ค. โทษสถานหนัก", "ง. โทษรุนแรงพิเศษ"] },
        { q: "๖๕. การใส่ความองค์กรที่ทำให้เสียชื่อเสียง ตามมาตรา ๑๓ มีระวางโทษขั้นต่ำสุดคือข้อใด?", a: "ค", options: ["ก. บันทึกตักเตือน", "ข. จำคุกไม่เกิน ๒๔ ชม.", "ค. ลดอัตราชั้นยศ สำหรับสิบเอกขึ้นไป", "ง. ให้ออกจากราชการ"] },
        { q: "๖๖. มาตรา ๕ ระบุให้ดุลพินิจของหน่วยงานใดเป็น 'อำนาจสูงสุด' กรณีที่กฎหมายมิได้บัญญัติไว้?", a: "ข", options: ["ก. ศาลทหารสูงสุด", "ข. ศาลรัฐธรรมนูญ", "ค. บก.ทท.", "ง. คณะกรรมการวินัย"] },
        { q: "๖๗. พลทหาร ต. แอบหลับจนอาวุธหายไป พฤติการณ์นี้ผิดตามมาตราใด?", a: "ง", options: ["ก. มาตรา ๒๖", "ข. มาตรา ๔๐", "ค. มาตรา ๑๒", "ง. ถูกทั้ง ก. และ ข."] },
        { q: "๖๘. ข้อใดคือความหมายของ 'โดยทุจริต' ที่ถูกต้องที่สุดตามมาตรา ๗?", a: "ข", options: ["ก. ทำผิดโดยเจตนา", "ข. แสวงหาประโยชน์ที่มิควรได้โดยชอบสำหรับตนเองหรือผู้อื่น", "ค. รับสินบน", "ง. ปลอมเอกสาร"] },
        { q: "๖๙. การกระทำที่ส่งผลกระทบต่อ 'การเกณฑ์หรือแต่งตั้งโดยมิชอบ' มีระวางโทษอย่างไร?", a: "ค", options: ["ก. โทษสถานเบา - กลาง", "ข. โทษสถานกลาง - หนัก", "ค. โทษสถานเบา - หนัก", "ง. โทษสถานหนักเท่านั้น"] },
        { q: "๗๐. สิบโท ค. ใช้ถ้อยคำลามกแชทกับเพื่อนร่วมงานหญิง พฤติการณ์นี้ผิดตามมาตราใด?", a: "ข", options: ["ก. มาตรา ๑๓", "ข. มาตรา ๓๗", "ค. มาตรา ๓๘", "ง. มาตรา ๒๓"] },
        { q: "๗๑. โทษ 'พ้นตำแหน่งหน้าที่' ถูกจัดอยู่ในกลุ่มอัตราโทษระดับใด?", a: "ข", options: ["ก. โทษสถานเบา", "ข. โทษสถานกลาง", "ค. โทษสถานหนัก", "ง. โทษวินัยเลว"] },
        { q: "๗๒. กรณีทหารไม่ยอมแสดงใบขับขี่ต่อทหารสารวัตรตามมาตรา ๔๑ มีโทษปรับสูงสุดเท่าใด?", a: "ค", options: ["ก. ๑,๐๐๐ บาท", "ข. ๒,๐๐๐ บาท", "ค. ๓,๐๐๐ บาท", "ง. ๕,๐๐๐ บาท"] },
        { q: "๗๓. ความผิดฐาน 'กบฏ' ตามมาตรา ๒๕ ระบุบทลงโทษไว้ระดับใด?", a: "ข", options: ["ก. โทษสถานกลาง", "ข. โทษสถานหนัก", "ค. โทษสถานเบา - หนัก", "ง. ให้ออกจากราชการ"] },
        { q: "๗๔. พลทหาร ข. ร่วมมือกับ พลทหาร ก. หนีออกจากค่าย ข. จะรับโทษอย่างไร?", a: "ข", options: ["ก. รับโทษเต็มเท่า ก.", "ข. ระวางโทษกึ่งหนึ่งของโทษที่กำหนด", "ค. โทษสถานเบาเท่านั้น", "ง. ไม่ต้องรับโทษ"] },
        { q: "๗๕. มาตรา ๔๒ ระบุความผิดเกี่ยวกับการใช้ยานพาหนะในลักษณะใด?", a: "ค", options: ["ก. ไม่มีใบอนุญาต", "ข. ไม่ได้รับอนุญาต", "ค. ก่อความวุ่นวาย ปั่นป่วน รบกวนความสงบ", "ง. ออกนอกเขตพื้นที่"] },
        { q: "๗๖. 'ข้าราชการผู้ซึ่งมีสังกัดขึ้นตรงต่อหน่วยต่างๆ' คือนิยามของคำใดในมาตรา ๗?", a: "ค", options: ["ก. ทหาร", "ข. ตำรวจ", "ค. เจ้าพนักงาน", "ง. ประชาชน"] },
        { q: "๗๗. หากมีการปลอมแปลง 'หลักสูตรการฝึก' จะมีความผิดตามมาตราใด?", a: "ก", options: ["ก. มาตรา ๒๙", "ข. มาตรา ๓๑", "ค. มาตรา ๑๕", "ง. มาตรา ๑๘"] },
        { q: "๗๘. การใช้อำนาจบังคับข่มขู่เพื่อให้ผู้อื่น 'ยอมจำนน' ตามมาตรา ๓๘ มีระวางโทษอย่างไร?", a: "ข", options: ["ก. โทษสถานเบา - กลาง", "ข. โทษสถานกลาง - หนัก", "ค. โทษสถานหนักเท่านั้น", "ง. จำคุก ๗๒ ชม."] },
        { q: "๗๙. มาตรา ๔ บัญญัติเรื่องกฎหมายเก่าไว้อย่างไร?", a: "ค", options: ["ก. ให้ใช้ควบคู่", "ข. ให้ปรับปรุง", "ค. ให้ยกเลิก", "ง. ให้เก็บไว้"] },
        { q: "๘๐. โทษสถานเบาข้อใดที่ใช้สำหรับ 'นายทหารระดับบังคับบัญชา' เท่านั้น?", a: "ค", options: ["ก. จำคุก ๒๔ ชม.", "ข. บันทึกตักเตือน", "ค. สูญเสียการบังคับบัญชา", "ง. ลดอัตราชั้นยศ"] },
        { q: "๘๑. นาย จ. เป็นพลเรือนรับจ้างซ่อมบำรุงในค่าย ตามมาตรา ๗ มีสถานะอย่างไร?", a: "ค", options: ["ก. ทหาร", "ข. เจ้าพนักงาน", "ค. ประชาชน หรือพลเรือน", "ง. ผู้ต้องหา"] },
        { q: "๘๒. การ 'แฮ็ก' ระบบกองทัพจนเกิดความเสียหาย ตามมาตรา ๓๑ มีระวางโทษระดับใด?", a: "ข", options: ["ก. โทษสถานเบา - กลาง", "ข. โทษสถานกลาง - หนัก", "ค. โทษสถานหนักเท่านั้น", "ง. เกมแบน"] },
        { q: "๘๓. สิบเอก ส. นำอาวุธปืนราชการไปจำนำ ผิดมาตราใดชัดเจนที่สุด?", a: "ข", options: ["ก. มาตรา ๒๘", "ข. มาตรา ๓๒", "ค. มาตรา ๑๗", "ง. มาตรา ๔๐"] },
        { q: "๘๔. 'คำพิพากษาของศาลให้ถือเป็นที่สิ้นสุด' ปรากฏในมาตราใด?", a: "ง", options: ["ก. มาตรา ๑", "ข. มาตรา ๓", "ค. มาตรา ๕", "ง. มาตรา ๖"] },
        { q: "๘๕. พลทหาร ล. ตะโกนด่าทอและยุยงเพื่อนทหารให้แตกแยก ผิดมาตราใด?", a: "ข", options: ["ก. มาตรา ๑๓", "ข. มาตรา ๒๓", "ค. มาตรา ๒๗", "ง. มาตรา ๓๙"] },
        { q: "๘๖. บทลงโทษ 'เนรเทศ' จัดเป็นโทษประเภทใด?", a: "ค", options: ["ก. โทษสถานเบา", "ข. โทษสถานกลาง", "ค. โทษสถานหนัก", "ง. โทษสูงสุด"] },
        { q: "๘๗. สิบเอก น. จงใจละเว้นการจับกุมเพื่อนที่เสพยา ผิดมาตราใด?", a: "ก", options: ["ก. มาตรา ๑๒", "ข. มาตรา ๑๕", "ค. มาตรา ๒๖", "ง. มาตรา ๔๔"] },
        { q: "๘๘. พฤติกรรมที่ทำให้ 'ภาพลักษณ์เสียหาย' ตามมาตรา ๓๖ เทียบเท่าข้อใด?", a: "ค", options: ["ก. ฆาตกรรม", "ข. จลาจล", "ค. กบฏ", "ง. ฉ้อโกง"] },
        { q: "๘๙. โทษจำคุกในระดับ 'โทษสถานกลาง' ตามมาตรา ๑๐ มีระยะเวลาเท่าใด?", a: "ค", options: ["ก. ไม่เกิน ๒๔ ชม.", "ข. ไม่เกิน ๔๘ ชม.", "ค. ไม่เกิน ๗๒ ชม.", "ง. ไม่เกิน ๑ สัปดาห์"] },
        { q: "๙๐. พระราชบัญญัตินี้เริ่มใช้บังคับ 'วันถัดจากวันประกาศ' ตามมาตราใด?", a: "ข", options: ["ก. มาตรา ๑", "ข. มาตรา ๒", "ค. มาตรา ๓", "ง. มาตรา ๔"] },
        { q: "๙๑. สิบเอกชกต่อยกับพลเรือนในที่สาธารณะ ผิดมาตราใด?", a: "ก", options: ["ก. มาตรา ๓๙ โทษสถานเบา - หนัก", "ข. มาตรา ๒๒", "ค. มาตรา ๒๓", "ง. มาตรา ๓๗"] },
        { q: "๙๒. มาตรา ๘ ระบุเรื่องกฎหมายลักษณะอาญาเดิมให้อ้างถึงข้อใด?", a: "ข", options: ["ก. กฎหมายพลเรือน", "ข. ประมวลกฎหมายอาญาทหาร ๒๕๖๘", "ค. จารีตทหาร", "ง. ข้อบังคับกลาโหม"] },
        { q: "๙๓. ผู้ที่ยืนยันว่าผิดแต่ยังไม่เข้าสู่การพิจารณาคดี นิยามตามมาตรา ๗ คือ?", a: "ข", options: ["ก. ผู้ต้องสงสัย", "ข. ผู้ต้องหา", "ค. จำเลย", "ง. เจ้าพนักงาน"] },
        { q: "๙๔. พลทหาร ร. ลบประวัติวินัยเลวของตนเองในระบบ ผิดมาตราใด?", a: "ก", options: ["ก. มาตรา ๒๙ และ มาตรา ๓๑", "ข. มาตรา ๑๗ และ ๒๐", "ค. มาตรา ๑๒ และ ๑๕", "ง. มาตรา ๒๕ และ ๒๗"] },
        { q: "๙๕. โทษ 'ลดอัตราชั้นยศ' ปรากฏในระดับโทษใดบ้าง?", a: "ข", options: ["ก. สถานเบา และ กลาง", "ข. สถานกลาง และ หนัก", "ค. สถานหนักเท่านั้น", "ง. ทุกระดับ"] },
        { q: "๙๖. การกระทำผิดตามมาตรา ๑๗ (ฉ้อโกง) ศาลลงโทษสูงสุดระดับใด?", a: "ข", options: ["ก. โทษสถานเบา", "ข. โทษสถานกลาง", "ค. โทษสถานหนัก", "ง. เนรเทศ"] },
        { q: "๙๗. การกระทำที่ 'นอกเหนือหน้าที่' ตามมาตรา ๑๕ ชื่อฐานความผิดคือ?", a: "ข", options: ["ก. ละเว้นหน้าที่", "ข. ปฏิบัติหน้าที่โดยมิชอบ", "ค. ใช้อำนาจโดยมิชอบ", "ง. ละเลยหน้าที่"] },
        { q: "๙๘. จ่าสิบตรีใช้ความรุนแรงกับพลทหารจนบาดเจ็บ ผิดมาตราใดร่วมกัน?", a: "ก", options: ["ก. มาตรา ๒๑ และ มาตรา ๓๙", "ข. มาตรา ๑๔ และ ๒๖", "ค. มาตรา ๑๒ และ ๑๓", "ง. มาตรา ๓๓ และ ๓๔"] },
        { q: "๙๙. มาตรา ๓๕ กำหนดให้การใช้ไอดีรองทำผิดมาตราใดบ้างรับโทษหนัก?", a: "ข", options: ["ก. มาตรา ๒๐-๒๑", "ข. มาตรา ๒๗ และ ๓๒", "ค. มาตรา ๓๖-๓๗", "ง. มาตรา ๔๓-๔๔"] },
        { q: "๑๐๐. ชื่อประมวลกฎหมายนี้คือ พ.ศ. ใด?", a: "ง", options: ["ก. ๒๕๖๕", "ข. ๒๕๖๖", "ค. ๒๕๖๗", "ง. ๒๕๖๘"] }
    ];

    let userName = "";
    let selectedQuestions = []; // ข้อสอบที่สุ่มมา 30 ข้อ

    // ฟังก์ชันสำหรับสุ่มข้อสอบ
    function getRandomQuestions(num) {
        let shuffled = [...allQuestions].sort(() => 0.5 - Math.random());
        return shuffled.slice(0, num);
    }

    function startQuiz() {
        userName = document.getElementById('username').value.trim();
        const lowerName = userName.toLowerCase();
        
        if (!allowedUsers.includes(lowerName)) {
            alert("❌ ชื่อนี้ไม่ได้รับอนุญาตให้เข้าสอบ");
            return;
        }

        const hasFinished = localStorage.getItem("quiz_done_" + lowerName);
        if (hasFinished && lowerName !== "mininbird") {
            alert("❌ คุณได้ทำการสอบไปแล้ว ไม่สามารถสอบซ้ำได้");
            return;
        }

        // สุ่มข้อสอบ 30 ข้อใหม่ทุกครั้งที่กดเริ่ม
        selectedQuestions = getRandomQuestions(30);

        document.getElementById('login-screen').classList.add('hidden');
        document.getElementById('quiz-screen').classList.remove('hidden');
        document.getElementById('display-name').innerText = "👤 ผู้เข้าสอบ: " + userName;
        renderQuiz();
    }

    function renderQuiz() {
        const container = document.getElementById('quiz-container');
        let html = '';
        selectedQuestions.forEach((item, index) => {
            html += `<div class="quiz-item">
                <div class="question-text">${index + 1}. ${item.q}</div>
                <div class="options-group">`;
            item.options.forEach((opt, i) => {
                const val = ["ก", "ข", "ค", "ง"][i];
                html += `<label><input type="radio" name="q${index}" value="${val}"> ${opt}</label>`;
            });
            html += `</div></div>`;
        });
        container.innerHTML = html;
        window.scrollTo(0, 0); // เลื่อนขึ้นบนสุด
    }

    function calculateScore() {
        let score = 0;
        let unanswered = [];

        for(let i=0; i<selectedQuestions.length; i++) {
            const selected = document.querySelector(`input[name="q${i}"]:checked`);
            if (!selected) {
                unanswered.push(i + 1);
            } else {
                if (selected.value === selectedQuestions[i].a) {
                    score++;
                }
            }
        }

        if (unanswered.length > 0) {
            alert("⚠️ คุณยังไม่ได้ทำข้อ: " + unanswered.join(", "));
            return;
        }

        localStorage.setItem("quiz_done_" + userName.toLowerCase(), "true");

        document.getElementById('quiz-screen').classList.add('hidden');
        document.getElementById('result-screen').classList.remove('hidden');
        document.getElementById('user-result-name').innerText = "คุณ " + userName;
        document.getElementById('score-display').innerText = score + "/30";
        
        const feedback = document.getElementById('feedback-msg');
        if (score >= 24) feedback.innerText = "ระดับความรู้: ยอดเยี่ยม";
        else if (score >= 15) feedback.innerText = "ระดับความรู้: ผ่านเกณฑ์";
        else feedback.innerText = "ระดับความรู้: ควรปรับปรุง";
    }
</script>
</body>
</html>
